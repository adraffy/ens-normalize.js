function A(A){return 1&A?~A>>1:A>>1}function e(A,e){let t=Array(A);for(let r=0,n=-1;r<A;r++)t[r]=n+=1+e();return t}function t(e,t){let r=Array(e);for(let n=0,l=0;n<e;n++)r[n]=l+=A(t());return r}function r(A,t){let r=e(A(),A),n=A(),l=e(n,A),w=function(A,e){let t=Array(A);for(let r=0;r<A;r++)t[r]=1+e();return t}(n,A);for(let A=0;A<n;A++)for(let e=0;e<w[A];e++)r.push(l[A]+e);return t?r.map((A=>t[A])):r}function n(A){let e=[];for(;;){let t=A();if(!t)break;e.push(t)}return e}function l(A,e,r){let n=Array(A).fill().map((()=>[]));for(let l=0;l<e;l++)t(A,r).forEach(((A,e)=>n[e].push(A)));return n}function w(A,e){let t=1+e(),r=e(),w=n(e);return l(w.length,1+A,e).flatMap(((A,e)=>{let[n,...l]=A;return Array(w[e]).fill().map(((A,e)=>{let w=e*r;return[n+e*t,l.map((A=>A+w))]}))}))}function i(A,e){return l(1+e(),1+A,e).map((A=>[A[0],A.slice(1)]))}var o=function(A){let e=0;return()=>A[e++]}(function(A){let e=0;function t(){return A[e++]<<8|A[e++]}let r=t(),n=1,l=[0,1];for(let A=1;A<r;A++)l.push(n+=t());let w=t(),i=e;e+=w;let o=0,s=0;function B(){return 0==o&&(s=s<<8|A[e++],o=8),s>>--o&1}const c=2**31,f=c>>>1,Q=c-1;let g=0;for(let A=0;A<31;A++)g=g<<1|B();let E=[],a=0,u=c;for(;;){let A=Math.floor(((g-a+1)*n-1)/u),e=0,t=r;for(;t-e>1;){let r=e+t>>>1;A<l[r]?t=r:e=r}if(0==e)break;E.push(e);let w=a+Math.floor(u*l[e]/n),i=a+Math.floor(u*l[e+1]/n)-1;for(;0==((w^i)&f);)g=g<<1&Q|B(),w=w<<1&Q,i=i<<1&Q|1;for(;w&~i&536870912;)g=g&f|g<<1&Q>>>1|B(),w=w<<1^f,i=(i^f)<<1|f|1;a=w,u=1+i-w}let h=r-4;return E.map((e=>{switch(e-h){case 3:return h+65792+(A[i++]<<16|A[i++]<<8|A[i++]);case 2:return h+256+(A[i++]<<8|A[i++]);case 1:return h+A[i++];default:return e-1}}))}(function(A){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((A,t)=>e[A.charCodeAt(0)]=t));let t=A.length,r=new Uint8Array(6*t>>3);for(let n=0,l=0,w=0,i=0;n<t;n++)i=i<<6|e[A.charCodeAt(n)],w+=6,w>=8&&(r[l++]=i>>(w-=8));return r}("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")));function s(A){return`{${function(A){return A.toString(16).toUpperCase().padStart(2,"0")}(A)}}`}function B(A){let e=[];for(let t=0,r=A.length;t<r;){let r=A.codePointAt(t);t+=r<65536?1:2,e.push(r)}return e}function c(A){let e=A.length;if(e<4096)return String.fromCodePoint(...A);let t=[];for(let r=0;r<e;)t.push(String.fromCodePoint(...A.slice(r,r+=4096)));return t.join("")}function f(A,e){let{length:t}=A,r=t-e.length;for(let n=0;0==r&&n<t;n++)r=A[n]-e[n];return r}function Q(A,e){return B(c(A).normalize(e))}function g(A){return Q(A,"NFC")}function E(A){return Q(A,"NFD")}const a=r(o).sort(((A,e)=>A-e));function u(A){return new Set(r(o,A))}function h(){return u(a)}function C(){return n((()=>{let A=h();if(A.size)return A}))}const p=new Set(a),y=u(),I=new Map(function(A){let e=[];for(;;){let t=A();if(0==t)break;e.push(w(t,A))}for(;;){let t=A()-1;if(t<0)break;e.push(i(t,A))}return e.flat()}(o)),M=h(),k=[],F=new Map([n((()=>{let A=o();if(A)return[A,(e=o,n((()=>{let A=n(e);if(A.length)return A.map((A=>A-1))})))];var e})),r(o,a).map((A=>[A,k]))].flat()),D=C(),U=[{name:"Korean",test:[1],rest:[0,2],allow:[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122],deny:[]},{name:"Japanese",test:[3,4],rest:[0,2],allow:[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122],deny:[]},{name:"Han",test:[2],rest:[0],allow:[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122],deny:[]},{name:"Latin",test:[5],rest:[0],allow:[],deny:[]},{name:"Cyrillic",test:[6],rest:[0],allow:[],deny:[]},{name:"Greek",test:[7],rest:[0],allow:[],deny:[]},{name:"Arabic",test:[8],rest:[],allow:[45],deny:[]},{name:"Devanagari",test:[9],rest:[],allow:[],deny:[]},{name:"Hebrew",test:[10],rest:[],allow:[8362],deny:[]},{name:"Thai",test:[11],rest:[],allow:[3647],deny:[]}].map((({name:A,test:e,rest:t})=>(t=[e=e.map((A=>D[A])),t.map((A=>D[A]))].flat(),{name:A,test:e,rest:t,allow:h(),deny:h(),wholes:h()}))),d=h(),v=C(),K=u(),L=function(A){let e=r(A).sort(((A,e)=>A-e));return function t(){let n=[];for(;;){let l=r(A,e);if(0==l.length)break;n.push({set:new Set(l),node:t()})}n.sort(((A,e)=>e.set.size-A.set.size));let l=A(),w=l%3;l=l/3|0;let i=!!(1&l);return l>>=1,{branches:n,valid:w,fe0f:i,save:1==l,check:2==l}}()}(o),R=h(),H=u(),x=u(),m=c([46]);function b(A,e=s){let t=[];V(A[0])&&t.push("â—Œ");let r=0,n=A.length;for(let l=0;l<n;l++){let n=A[l];P(n)&&(t.push(c(A.slice(r,l))),t.push(e(n)),r=l+1)}return t.push(c(A.slice(r,n))),t.join("")}function V(A){return M.has(A)||x.has(A)}function P(A){return H.has(A)}function Y(A,e=g){return A.split(m).map((A=>c(e(G(B(A)))))).join(m)}function S(A){return z(j(A))}function N(A){let e=j(A,(A=>A));for(let{script:A,output:t}of e)if("Greek"!==A){let A=0;for(;;){let e=t.indexOf(958,A);if(e<0)break;t[e]=926,A=e+1}}return z(e)}function j(A,e=Z){let t=0;return A.split(m).map((A=>{let r=B(A),n={input:r,offset:t};t+=r.length+1;try{let A=n.mapped=G(r),t=n.output=g(A.flatMap((A=>Array.isArray(A)?e(A):A)));n.emoji=A.some((A=>Array.isArray(A))),function(A){for(let e=A.lastIndexOf(95);e>0;)if(95!==A[--e])throw new Error("underscore allowed only at start")}(t),function(A){if(M.has(A[0]))throw new Error("leading combining mark")}(t),function(A){if(A.length>=4&&45===A[2]&&45===A[3]&&A.every((A=>A<128)))throw new Error("invalid label extension")}(t);let l=E(A.map((A=>Array.isArray(A)?65039:A)));!function(A){if(!(A=A.filter((A=>65039!=A))).length)return!0;for(let e of v)if(A.some((A=>e.has(A)))){if(!A.every((A=>e.has(A))))throw new Error("restricted script cannot mix");if(A.every((A=>d.has(A))))throw new Error("restricted whole-script confusable");return!0}}(l)?(function(A){for(let e=1,t=-1;e<A.length;e++)if(M.has(A[e])){let r=A[e-1];if(65039==r)throw new Error("emoji + combining mark");let n=F.get(r);if(n){let t=e+1;for(;t<A.length&&M.has(A[t]);)t++;let r=A.slice(e,t);if(!n.find((A=>!f(A,r))))throw new Error(`disallowed combining mark sequence: "${c(A.slice(e-1,t))}"`);e=t}else{if(e==t)throw new Error(`adjacent combining marks "${c(A.slice(e-2,e+1))}"`);t=e+1}}}(l),function(A,e,t,r,n){let l=-1;if(8217===A[0])throw new Error(`leading ${t}`);for(;;){let e=A.indexOf(8217,l+1);if(-1==e)break;if(l==e-1)throw new Error(`adjacent ${t}`);l=e}if(l==A.length-1)throw new Error(`trailing ${t}`)}(t,0,"apostrophe"),n.script=function(A){for(let{name:e,test:t,rest:r,allow:n,deny:l,wholes:w}of U)if(A.some((A=>t.some((e=>e.has(A)))))){for(let t of A){if(!r.some((A=>A.has(t)))&&!n.has(t))throw new Error(`mixed-script ${e} confusable: "${b([t])}"`);if(l.has(t))throw new Error(`single-script ${e} confusable: "${b([t])}"`)}if(A.every((A=>w.has(A)||D[0].has(A))))throw new Error(`whole-script ${e} confusable`);return e}return"Common"}(g(A.flatMap((A=>Array.isArray(A)?[]:A))))):n.script=A.every((A=>Array.isArray(A)))?"Common":"Restricted"}catch(A){n.error=A.message}return n}))}function z(A){return A.map((({input:e,error:t,output:r})=>{if(t)throw new Error(1==A.length?t:`Invalid label "${b(e)}": ${t}`);return c(r)})).join(m)}function G(A){let e=[];for(A=A.slice().reverse();A.length;){let t=X(A);if(t)e.push(t);else{let t=A.pop();if(p.has(t))e.push(t);else{let A=I.get(t);if(A)e.push(...A);else if(!y.has(t)){let A=P(t)?"":` "${b([t])}"`;throw new Error(`disallowed character:${A} ${s(t)}`)}}}}return e}function Z(A){return A.filter((A=>65039!=A))}function X(A,e){let t,r,n=L,l=[],w=A.length;for(e&&(e.length=0);w;){let i=A[--w],o=n.branches.find((A=>A.set.has(i)));if(!o)break;if(n=o.node,n.save)r=i;else if(n.check&&i===r)break;l.push(i),n.fe0f&&(l.push(65039),w>0&&65039==A[w-1]&&w--),n.valid&&(t=J(l,n),e&&e.push(...A.slice(w).reverse()),A.length=w)}if(!t){let r=A[A.length-1];K.has(r)&&(e&&e.push(r),t=[r],A.pop())}return t}function J(A,e){let t=A.slice();return 2==e.valid&&t.splice(1,1),t}function O(){let A=[...K].map((A=>[A]));return function e(t,r,n){if(t.save)n=r[r.length-1];else if(t.check&&n===r[r.length-1])return;t.fe0f&&r.push(65039),t.valid&&A.push(J(r,t));for(let A of t.branches)for(let t of A.set)e(A.node,[...r,t],n)}(L,[]),A.sort(f)}function W(A,{nf:e=!0}={}){let t=B(A).reverse(),r=[],n=[];for(;t.length;){let A=X(t,r);if(A)n.push({type:"emoji",emoji:A,input:r.slice(),cps:Z(A)});else{let A=t.pop();if(46===A)n.push({type:"stop",cp:A});else if(p.has(A))n.push({type:"valid",cps:[A]});else if(y.has(A))n.push({type:"ignored",cp:A});else{let e=I.get(A);e?n.push({type:"mapped",cp:A,cps:e.slice()}):n.push({type:"disallowed",cp:A})}}}if(e)for(let A=0,e=-1;A<n.length;A++){let t=n[A];if(T(t.type))if(q(t.cps)){let t=A+1;for(let A=t;A<n.length;A++){let{type:e,cps:r}=n[A];if(T(e)){if(!q(r))break;t=A+1}else if("ignored"!==e)break}e<0&&(e=A);let r=n.slice(e,t),l=r.flatMap((A=>T(A.type)?A.cps:[])),w=g(l);f(w,l)?(n.splice(e,t-e,{type:"nfc",input:l,cps:w,tokens:$(r)}),A=e):A=t-1,e=-1}else e=A;else"emoji"===t.type&&(e=-1)}return $(n)}function T(A){return"valid"===A||"mapped"===A}function q(A){return A.some((A=>R.has(A)))}function $(A){for(let e=0;e<A.length;e++)if("valid"===A[e].type){let t=e+1;for(;t<A.length&&"valid"===A[t].type;)t++;A.splice(e,t-e,{type:"valid",cps:A.slice(e,t).flatMap((A=>A.cps))})}return A}export{N as ens_beautify,O as ens_emoji,S as ens_normalize,Y as ens_normalize_fragment,j as ens_split,W as ens_tokenize,V as is_printable_mark,g as nfc,E as nfd,b as safe_str_from_cps,P as should_escape};
