function A(A){return 1&A?~A>>1:A>>1}function e(e,t){let r=Array(e);for(let n=0,B=0;n<e;n++)r[n]=B+=A(t());return r}function t(A,e=0){let t=[];for(;;){let r=A(),n=A();if(!n)break;e+=r;for(let A=0;A<n;A++)t.push(e+A);e+=n+1}return t}function r(A){let e=[];for(;;){let t=A(e.length);if(!t)break;e.push(t)}return e}function n(A,t,r){let n=Array(A).fill().map((()=>[]));for(let B=0;B<t;B++)e(A,r).forEach(((A,e)=>n[e].push(A)));return n}function B(A,e){let t=1+e(),B=e(),l=r(e);return n(l.length,1+A,e).flatMap(((A,e)=>{let[r,...n]=A;return Array(l[e]).fill().map(((A,e)=>{let l=e*B;return[r+e*t,n.map((A=>A+l))]}))}))}function l(A,e){return n(1+e(),1+A,e).map((A=>[A[0],A.slice(1)]))}var o=function(A){let e=0;return()=>A[e++]}(function(A){let e=0;function t(){return A[e++]<<8|A[e++]}let r=t(),n=1,B=[0,1];for(let A=1;A<r;A++)B.push(n+=t());let l=t(),o=e;e+=l;let g=0,f=0;function s(){return 0==g&&(f=f<<8|A[e++],g=8),f>>--g&1}const w=2**31,Q=w>>>1,i=w-1;let C=0;for(let A=0;A<31;A++)C=C<<1|s();let u=[],E=0,c=w;for(;;){let A=Math.floor(((C-E+1)*n-1)/c),e=0,t=r;for(;t-e>1;){let r=e+t>>>1;A<B[r]?t=r:e=r}if(0==e)break;u.push(e);let l=E+Math.floor(c*B[e]/n),o=E+Math.floor(c*B[e+1]/n)-1;for(;0==((l^o)&Q);)C=C<<1&i|s(),l=l<<1&i,o=o<<1&i|1;for(;l&~o&536870912;)C=C&Q|C<<1&i>>>1|s(),l=l<<1^Q,o=(o^Q)<<1|Q|1;E=l,c=1+o-l}let a=r-4;return u.map((e=>{switch(e-a){case 3:return a+65792+(A[o++]<<16|A[o++]<<8|A[o++]);case 2:return a+256+(A[o++]<<8|A[o++]);case 1:return a+A[o++];default:return e-1}}))}(function(A){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((A,t)=>e[A.charCodeAt(0)]=t));let t=A.length,r=new Uint8Array(6*t>>3);for(let n=0,B=0,l=0,o=0;n<t;n++)o=o<<6|e[A.charCodeAt(n)],l+=6,l>=8&&(r[B++]=o>>(l-=8));return r}("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")));const g=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function f(A){return`{${function(A){return A.toString(16).toUpperCase().padStart(2,"0")}(A)}}`}function s(A){let e=[];for(let t=0,r=A.length;t<r;){let r=A.codePointAt(t);t+=r<65536?1:2,e.push(r)}return e}function w(A){let e=A.length;if(e<4096)return String.fromCodePoint(...A);let t=[];for(let r=0;r<e;)t.push(String.fromCodePoint(...A.slice(r,r+=4096)));return t.join("")}function Q(A,e){let{length:t}=A,r=t-e.length;for(let n=0;0==r&&n<t;n++)r=A[n]-e[n];return r}function i(A,e){return s(w(A).normalize(e))}function C(A){return i(A,"NFC")}function u(A){return i(A,"NFD")}function E(){return new Set(t(o))}const c=new Map(function(A){let e=[];for(;;){let t=A();if(0==t)break;e.push(B(t,A))}for(;;){let t=A()-1;if(t<0)break;e.push(l(t,A))}return e.flat()}(o)),a=E(),h=E(),p=E(),M=E(),F=(D=o,r((()=>{let A=t(D);if(A.length)return A})));var D;function k(){return new Set([t(o).map((A=>F[A])),t(o)].flat(2))}const I=o(),K=r((A=>{let e=r(o).map((A=>A+96));if(e.length){let t=A>=I;e[0]-=32,e=w(e),t&&(e=`Restricted[${e}]`);let r=k(),n=k(),B=[...r,...n].sort(((A,e)=>A-e));return{N:e,P:r,M:o()-1,R:t,V:new Set(B)}}})),U=E(),S=new Map;[...U,...E()].sort(((A,e)=>A-e)).map(((A,e,t)=>{let r=o(),n=t[e]=r?t[e-r]:{V:[],M:new Map};n.V.push(A),U.has(A)||S.set(A,n)}));for(let{V:A,M:e}of new Set(S.values())){let t=[];for(let e of A){let A=K.filter((A=>A.V.has(e))),r=t.find((({G:e})=>A.some((A=>e.has(A)))));r||(r={G:new Set,V:[]},t.push(r)),r.V.push(e),A.forEach((A=>r.G.add(A)))}let r=t.flatMap((({G:A})=>[...A]));for(let{G:A,V:n}of t){let t=new Set(r.filter((e=>!A.has(e))));for(let A of n)e.set(A,t)}}let m=[...new Set(K.flatMap((A=>[...A.V])))];for(let A of m)S.has(A)||1!=K.filter((e=>e.V.has(A))).length||S.set(A,1);const d=new Set([...m,...u(m)]),x=t(o),G=function A(e){let n=r((()=>{let e=t(o).map((A=>x[A]));if(e.length)return A(e)})).sort(((A,e)=>e.Q.size-A.Q.size)),B=o(),l=B%3;B=B/3|0;let g=1&B;return B>>=1,{B:n,V:l,F:g,S:1&B,C:2&B,Q:new Set(e)}}([]);class H extends Array{get is_emoji(){return!0}}function N(A,e=f){let t=[];q(A[0])&&t.push("â—Œ");let r=0,n=A.length;for(let B=0;B<n;B++){let n=A[B];O(n)&&(t.push(w(A.slice(r,B))),t.push(e(n)),r=B+1)}return t.push(w(A.slice(r,n))),t.join("")}function R(A){return(O(A)?"":`"${N([A])}" `)+f(A)}function W(A){for(let e=A.lastIndexOf(95);e>0;)if(95!==A[--e])throw new Error("underscore allowed only at start")}function q(A){return h.has(A)}function O(A){return p.has(A)}function L(A,e=C){return A.split(".").map((A=>w(v(s(A),e).flatMap((A=>A.is_emoji?V(A):A))))).join(".")}function Y(A){return P(J(A))}function T(A){let e=J(A,!0);for(let{type:A,output:t,error:r}of e)if(!r&&"Greek"!==A){let A=0;for(;;){let e=t.indexOf(958,A);if(e<0)break;t[e]=926,A=e+1}}return P(e)}function J(A,e){let t=0;return A.split(".").map((A=>{let r,n=s(A),B={input:n,offset:t};t+=n.length+1;try{let A,t=B.tokens=v(n,C),l=t.length;if(l){let n=t[0],o=l>1||n.is_emoji;if(!o&&n.every((A=>A<128)))r=n,W(r),function(A){if(A.length>=4&&45==A[2]&&45==A[3])throw new Error("invalid label extension")}(r),A="ASCII";else if(o&&(B.emoji=!0,n=t.flatMap((A=>A.is_emoji?[]:A))),r=t.flatMap((A=>!e&&A.is_emoji?V(A):A)),W(r),n.length){!function(A){if(h.has(A[0]))throw new Error("leading combining mark")}(r),function(A){let e=A[0],t=g.get(e);if(t)throw new Error(`leading ${t}`);let r=-1;for(let n=1;n<A.length;n++){e=A[n];let B=g.get(e);if(B){if(r==n)throw new Error(`adjacent ${t} + ${B}`);r=n+1,t=B}}if(r==A.length)throw new Error(`trailing ${t}`)}(r);for(let A=1;A<l;A++){let e=t[A];if(!e.is_emoji&&h.has(e[0]))throw new Error(`emoji + combining mark: "${w(t[A-1])} + ${N([e[0]])}"`)}let e=[...new Set(n)],[B]=function(A){let e=K;for(let t of A){let A=e.filter((A=>A.V.has(t)));if(!A.length)throw e===K?z(t):j(e[0],t);if(e=A,1==A.length)break}return e}(e);!function(A,e){let{V:t,M:r}=A;for(let r of e)if(!t.has(r))throw j(A,r);if(r>=0)for(let t=1,n=u(e).length;t<n;t++)if(h.has(e[t])){let B=t+1;for(;B<n&&h.has(e[B]);)B++;if(B-t>r)throw new Error(`too many combining marks: ${A.N} "${w(e.slice(t-1,B))}" (${B-t}/${r})`);t=B}}(B,n),function(A,e){let t,r=[];for(let A of e){let e=S.get(A);if(1===e)return;if(e){let r=e.M.get(A);if(t=t?t.filter((A=>r.has(A))):[...r],!t.length)return}else r.push(A)}if(t)for(let e of t)if(r.every((A=>e.V.has(A))))throw new Error(`whole-script confusable: ${A.N}/${e.N}`)}(B,e),A=B.N}else A="Emoji"}else r=[],A="None";B.type=A}catch(A){B.error=A}return B.output=r,B}))}function P(A){return A.map((({input:e,error:t,output:r})=>{if(t){let r=t.message;throw new Error(1==A.length?r:`Invalid label "${N(e)}": ${r}`)}return w(r)})).join(".")}function j(A,e){let t=R(e),r=K.find((A=>A.P.has(e)));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${A.N} + ${t}`)}function z(A){return new Error(`disallowed character: ${R(A)}`)}function v(A,e){let t=[],r=[];for(A=A.slice().reverse();A.length;){let n=b(A);if(n)r.length&&(t.push(e(r)),r=[]),t.push(n);else{let e=A.pop();if(d.has(e))r.push(e);else{let A=c.get(e);if(A)r.push(...A);else if(!a.has(e))throw z(e)}}}return r.length&&t.push(e(r)),t}function V(A){return A.filter((A=>65039!=A))}function b(A,e){let t,r,n=G,B=[],l=A.length;for(e&&(e.length=0);l;){let o=A[--l];if(n=n.B.find((A=>A.Q.has(o))),!n)break;if(n.S)r=o;else if(n.C&&o===r)break;B.push(o),n.F&&(B.push(65039),l>0&&65039==A[l-1]&&l--),n.V&&(t=y(B,n),e&&e.push(...A.slice(l).reverse()),A.length=l)}return t}function y(A,e){let t=H.from(A);return 2==e.V&&t.splice(1,1),t}function X(){let A=[];return function e(t,r,n){if(t.S)n=r[r.length-1];else if(t.C&&n===r[r.length-1])return;t.F&&r.push(65039),t.V&&A.push(y(r,t));for(let A of t.B)for(let t of A.Q)e(A,[...r,t],n)}(G,[]),A.sort(Q)}function Z(A,{nf:e=!0}={}){let t=s(A).reverse(),r=[],n=[];for(;t.length;){let A=b(t,r);if(A)n.push({type:"emoji",emoji:A,input:r.slice(),cps:V(A)});else{let A=t.pop();if(46==A)n.push({type:"stop",cp:A});else if(d.has(A))n.push({type:"valid",cps:[A]});else if(a.has(A))n.push({type:"ignored",cp:A});else{let e=c.get(A);e?n.push({type:"mapped",cp:A,cps:e.slice()}):n.push({type:"disallowed",cp:A})}}}if(e)for(let A=0,e=-1;A<n.length;A++){let t=n[A];if($(t.type))if(_(t.cps)){let t=A+1;for(let A=t;A<n.length;A++){let{type:e,cps:r}=n[A];if($(e)){if(!_(r))break;t=A+1}else if("ignored"!==e)break}e<0&&(e=A);let r=n.slice(e,t),B=r.flatMap((A=>$(A.type)?A.cps:[])),l=C(B);Q(l,B)?(n.splice(e,t-e,{type:"nfc",input:B,cps:l,tokens0:AA(r),tokens:Z(w(l),{nf:!1})}),A=e):A=t-1,e=-1}else e=A;else"ignored"!==t.type&&(e=-1)}return AA(n)}function $(A){return"valid"==A||"mapped"==A}function _(A){return A.some((A=>M.has(A)))}function AA(A){for(let e=0;e<A.length;e++)if("valid"==A[e].type){let t=e+1;for(;t<A.length&&"valid"==A[t].type;)t++;A.splice(e,t-e,{type:"valid",cps:A.slice(e,t).flatMap((A=>A.cps))})}return A}export{T as ens_beautify,X as ens_emoji,Y as ens_normalize,L as ens_normalize_fragment,J as ens_split,Z as ens_tokenize,q as is_combining_mark,C as nfc,u as nfd,N as safe_str_from_cps,O as should_escape};
